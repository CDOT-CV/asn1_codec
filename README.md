Master: [![Build Status](https://travis-ci.org/usdot-jpo-ode/asn1_codec.svg?branch=master)](https://travis-ci.org/usdot-jpo-ode/asn1_codec) [![Quality Gate](https://sonarqube.com/api/badges/gate?key=asn1_codec)](https://sonarqube.com/dashboard?id=asn1_codec-key)

# asn1_codec

See the installation page for working notes on installation.

## Table of Contents

1. [Release Notes](#release-notes)
2. [Documentation](#documentation)
3. [Development and Collaboration Tools](#development-and-collaboration-tools)
3. [Getting Started](#getting-started)
4. [Installation](docs/installation.md)
5. [Configuration and Operation](docs/configuration.md)
6. [Testing](docs/testing.md)
7. [Development](docs/coding-standards.md)

## Release Notes

# Documentation

# Development and Collaboration Tools

# Getting Started

# MISC


# GENERAL INFORMATION

This folder should contain the SAE J2735-201603 Dedicated Short Range Communications (DSRC) Message Set Dictionary
codec.

This folder should include the ASN.1 schema file for SAE J2735-201603 which isnot provided here.  The SAE J2735-201603
schema file is provided by SAE to purchasers as SAE J2735ASN-201603 (tm) as a companion product to assist them in
deployment of SAE Standard J2735-201603.  This document, like SAE J2735(tm) itself contains material copyrighted by SAE
International.

Save your copy of SAE J2735-201603 schema file in this directory before building the ASN.1 compiler.  Make sure the
extension is *.asn in order to be picked up by the compiler build script (build_codec.sh).  Once the J2735 API code is
generated by the compiler (via build_coded.sh script), invoking `make -f Makefile.am.sample` will build the API object
files.

# OBTAINING THE J2735 SPECIFICATION

Go to http://standards.sae.org/j2735_201603/ and download the files.

You should extract the ASN.1 module from there and save it as the ../J2735_201603.ASN file. This file should start with
the following line

	DSRC DEFINITIONS AUTOMATIC TAGS ::=

and end with the "END" token.
Be careful not to copy any non-ASN.1 preambles from that .DOC file.

After obtaining the J2735_201603.ASN, type `make` in the directory
containing this README file.

# MAKEFILE OPERATION

- The Makefile in this directory will run the compiler (if installed) on the schema file above and copy the generated
  files into this directory.
- The Makefile will compile those source files (and some standard source files in the complier library).
- An example CLI application is built to showcase some simple operations.

# NEW (TEMPORARY) BUILD - MAKEFILE MANIPULATION
- This is a mess right now and needs a proper build system. There are several pieces in the ASN.1 compiler/parser that
  are tightly coupled that make creating a stand alone module doable, but not as clean as we would like.

- The asn1-j2735-lib.h and asn1-j2735-lib.c files have the necessary data structures and function declarations for the libary; this header is
  used now for both the command line tool and the library.

- The two main targets are a command line tool to perform ASN.1 parsing (j2735-dump) and a static library (libJ2735.a) that has two
  functions to be used in the PPM.

    - The main function for the command line tool is in asn1-module-converter.c
    - This file as a preprocessor variable that stubs out the main function; it should be commented out (undefined) when
      you want to build the command line tool.

- To compiled the static library you must set the BUILDLIB variable to 1; this is terrible, but for now it works.

    - The library functions for the library are in the same file as the command line tool, but the main method is not
      compiled.

    - $ make all BUILDLIB=1


